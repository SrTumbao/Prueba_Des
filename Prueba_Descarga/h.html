<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
        
<body>
        
    
    <canvas width="250" height="232" id="lienzo" ></canvas>
    <script>		
    window.onload = function() {
var canvas = document.getElementById("lienzo");
		if (canvas && canvas.getContext) {
		var ctx = canvas.getContext("2d");
			if (ctx) {
					var img=new Image();
					img.src = "../Prueba_Descarga/Piso 1_page-0001.jpg";
					img.onload = function() {
					ctx.drawImage(this, 0, 0);
					}
			 }
		}

}
    </script> 
<img id="img" src="../Prueba_Descarga/Piso 1_page-0001.jpg" width="400" height="300" >
<canvas id="lienzo1" width="300" height="232">Su navegador no soporta canvas :( </canvas>

<script>
window.onload = function() {
	var canvas1 = document.getElementById("lienzo1");
		if (canvas1 && canvas1.getContext) {
		var ctx1 = canvas1.getContext("2d");
			if (ctx1) {
					var img1 = document.getElementById("img");
					var x = ( canvas1.width - (img1.width/2) ) /2;
					var y = ( canvas1.height - (img1.height/2) ) /2;
					var w = img1.width/2;
					var h = img1.height/2;
					ctx1.drawImage( img1, x, y ,w, h );

                }
		}

}


 </script>   
 
 <canvas id="lienzo2" width="400" height="300">Su navegador no soporta canvas :( </canvas>
<canvas id="lienzo3" width="400" height="300">Su navegador no soporta canvas :( </canvas>

<script>
window.onload = function() {
 // de este canvas copiamos la imagen
	var canvas2 = document.getElementById("lienzo2");
		if (canvas2 && canvas2.getContext) {
		var ctx2 = canvas2.getContext("2d");
			if (ctx2) {
				var img2 = document.getElementById("img");
				ctx2.drawImage( img2,0,0 );
		}
}
		// a este canvas pegamos la imagen recortada	
		var canvas3 = document.getElementById("lienzo3");
		if (canvas3 && canvas3.getContext) {
		var ctx3 = canvas3.getContext("2d");
			if (ctx3) {
					var img3 = canvas2;
													
					var sx = 50;
					var sy = 40;
					var sw = 140;
					var sh = 140;								
													
					var x = 75;
					var y = 79;
					var w = 100;
					var h = 100;
													
					ctx3.drawImage( img3,sx,sy,sw,sh, x,y,w,h );
				}
		}

}
</script>
<h1>Canvas a PNG</h1>
	
	<button id="btnDescargar">Descargar</button>
    <script src="../Prueba_Descarga/js/paint.js"></script>
    
    </script>
    
    </body>
    
    </html>
    
   